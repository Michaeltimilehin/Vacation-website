(self["b-genius-vip-web-component-service__LOADABLE_LOADED_CHUNKS__"]=self["b-genius-vip-web-component-service__LOADABLE_LOADED_CHUNKS__"]||[]).push([["8d7d1278"],{"7ce44747":function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ue}});let i=function(e){return e.Expired="Expired",e.Running="Running",e}({}),r=function(e){return e.ACCOMMODATIONS="ACCOMMODATIONS",e.AIRPORT_TAXIS="AIRPORT_TAXIS",e.ATTRACTIONS="ATTRACTIONS",e.CARS="CARS",e.FLIGHTS="FLIGHTS",e.PACKAGES="PACKAGES",e}({}),a=function(e){return e.BOOKING_DETAIL="BOOKING_DETAIL",e.BOOKING_PROCESS_1="BOOKING_PROCESS_1",e.BOOKING_PROCESS_2="BOOKING_PROCESS_2",e.CONFIRMATION_PAGE="CONFIRMATION_PAGE",e.GENIUS_LANDING_PAGE="GENIUS_LANDING_PAGE",e.INDEX="INDEX",e.LANDING_PAGE="LANDING_PAGE",e.PROPERTY_PAGE="PROPERTY_PAGE",e.ROOM_DETAIL="ROOM_DETAIL",e.SEARCH_RESULTS="SEARCH_RESULTS",e.WALLET="WALLET",e}({});var o=t("ead71eb0"),s=t.n(o),l=t("6ee88c54"),c=t("dc6d28ff");const d=()=>{const e=(0,c.getRequestContext)().getSiteType()??l.N.WWW;return{isWWW:e===l.N.WWW,isMDOT:e===l.N.MDOT,isTDOT:e===l.N.TDOT}};var u=t("28dbd132"),p=t("d1e54a96");const _=u.exp`cQYIMdUTNOUbWNHYLFfAJUXWAcaYbDDUPRXe`,m=u.exp`cQYIMdUTNOUbWNHYLFfAJYYeFEXO`,f=u.exp`cQYIMdUTNOUbWNHYLFfMPSXZDDUPRXe`,b=u.exp`cQYIMdUTNOUbWNHYLFaUSfIFTWAJYYeFEXO`;let v=function(e){return e.index="index",e.index_onboarding="index_onboarding",e.searchresults_irene_onboarding="searchresults_irene_onboarding",e.hotel_onboarding="hotel_onboarding",e.genius="genius",e.confirmation="confirmation",e}({});const g={[`${v.index}:mlp1`]:1,[`${v.index}:mlp2`]:2,[`${v.index_onboarding}:mlp1`]:3,[`${v.index_onboarding}:mlp2`]:4,[`${v.searchresults_irene_onboarding}:mlp1`]:5,[`${v.searchresults_irene_onboarding}:mlp2`]:6,[`${v.hotel_onboarding}:mlp1`]:7,[`${v.hotel_onboarding}:mlp2`]:8},h={[`${v.genius}:mlp1`]:1,[`${v.genius}:mlp2`]:2,[`${v.confirmation}:mlp1`]:3,[`${v.confirmation}:mlp2`]:4};let y=function(e){return e.view_lp_pt_bs="view_lp_pt_bs",e.swipe_lp_pt_bs="swipe_lp_pt_bs",e.view_lp="view_lp",e.click_lp_view_history="click_lp_view_history",e.click_lp_next_stay="click_lp_next_stay",e.click_FAQ1="click_FAQ1",e.click_FAQ2="click_FAQ2",e}({});const k={[`${y.view_lp_pt_bs}:mlp1`]:1,[`${y.view_lp_pt_bs}:mlp2`]:2,[`${y.swipe_lp_pt_bs}:mlp1`]:3,[`${y.swipe_lp_pt_bs}:mlp2`]:4,[`${y.view_lp}:mlp1`]:5,[`${y.view_lp}:mlp2`]:6,[`${y.click_lp_view_history}:mlp1`]:7,[`${y.click_lp_view_history}:mlp2`]:8,[`${y.click_lp_next_stay}:mlp1`]:9},S={[`${y.click_lp_next_stay}:mlp2`]:1,[`${y.click_FAQ1}:mlp1`]:2,[`${y.click_FAQ1}:mlp2`]:3,[`${y.click_FAQ2}:mlp1`]:4,[`${y.click_FAQ2}:mlp2`]:5};let w=function(e){return e.view_onboarding="view_onboarding",e.view_index_banner="view_index_banner",e.click_index_banner="click_index_banner",e.click_onboarding="click_onboarding",e.skip_onboarding="skip_onboarding",e}({});const A={[`${w.view_onboarding}:mlp1`]:1,[`${w.view_onboarding}:mlp2`]:2,[`${w.view_index_banner}:mlp1`]:3,[`${w.view_index_banner}:mlp2`]:4,[`${w.click_index_banner}:mlp1`]:5,[`${w.click_index_banner}:mlp2`]:6},N={[`${w.click_onboarding}:mlp1`]:1,[`${w.click_onboarding}:mlp2`]:2,[`${w.skip_onboarding}:mlp1`]:3,[`${w.skip_onboarding}:mlp2`]:4};let E=function(e){return e.view_sr_banner="view_sr_banner",e.view_bd_banner="view_bd_banner",e.view_genius_vip_entrance="view_genius_vip_entrance",e.click_genius_vip_entrance="click_genius_vip_entrance",e.click_sr_banner_to_bs="click_sr_banner_to_bs",e.click_bd_banner_to_lp="click_bd_banner_to_lp",e}({});const I={[`${E.view_sr_banner}:mlp1`]:1,[`${E.view_sr_banner}:mlp2`]:2,[`${E.view_bd_banner}:mlp1`]:3,[`${E.view_bd_banner}:mlp2`]:4,[`${E.view_genius_vip_entrance}:mlp1`]:5,[`${E.view_genius_vip_entrance}:mlp2`]:6,[`${E.click_genius_vip_entrance}:mlp1`]:7,[`${E.click_genius_vip_entrance}:mlp2`]:8},O={[`${E.click_sr_banner_to_bs}:mlp1`]:1,[`${E.click_sr_banner_to_bs}:mlp2`]:2,[`${E.click_bd_banner_to_lp}:mlp1`]:3,[`${E.click_bd_banner_to_lp}:mlp2`]:4},T=(e,n)=>{const t=(e=>{switch(Number(e)){case 54:return"mlp1";case 55:return"mlp2";default:return""}})(n);return`${e}:${t}`},x=(e,n,t)=>(i,r)=>{const a=T(i,r),o=n[a],s=null===t||void 0===t?void 0:t[a];o?(0,u.trackExperimentStage)(e,o):s&&(0,u.trackCustomGoal)(e,s)},P=(x(_,g,h),x(m,k,S),x(f,A,N)),F=(x(b,I,O),64),D=65;let M=function(e){return e.index="index",e.index_onboarding="index_onboarding",e.searchresults_irene_onboarding="searchresults_irene_onboarding",e.hotel_onboarding="hotel_onboarding",e.genius="genius",e.confirmation="confirmation",e}({}),R=function(e){return e.view_index_onboarding="view_index_onboarding",e.view_sr_onboarding="view_sr_onboarding",e.view_pp_onboading="view_pp_onboarding",e.click_onboarding="click_onboarding",e.dismiss_onboarding="dismiss_onboarding",e.view_index_banner="view_index_banner",e.click_index_banner="click_index_banner",e.view_sr_banner="view_sr_banner",e.click_sr_banner="click_sr_banner",e.view_bd_banner="view_bd_banner",e.click_bd_banner="click_bd_banner",e.view_genius_lp_entrance="view_genius_lp_entrance",e.click_genius_lp_entrance="click_genius_lp_entrance",e.view_lp="view_lp",e.view_lp_product_tour="view_lp_product_tour",e.swipe_lp_product_tour="swipe_lp_product_tour",e.click_lp_view_history="click_lp_view_history",e.click_lp_next_stay="click_lp_next_stay",e.click_lp_faq_1="click_lp_faq_1",e.click_lp_faq_2="click_lp_faq_2",e}({});u.exp`cQYIMdUTNOUbWNHYLFfUOdFbLSXJbXe`;const U=u.exp`cQYIMdUTNOUbWNHYLFfUOdFbLSXJdDBKWNBJAEeIbXe`,L=(R.view_lp,M.index_onboarding,M.searchresults_irene_onboarding,M.hotel_onboarding,M.index,M.confirmation,M.genius,R.view_lp_product_tour,R.swipe_lp_product_tour,R.click_lp_view_history,R.click_lp_next_stay,R.click_lp_faq_1,R.click_lp_faq_2,{[R.view_index_onboarding]:1,[R.view_sr_onboarding]:2,[R.view_pp_onboading]:3,[R.click_onboarding]:4,[R.dismiss_onboarding]:5,[R.view_index_banner]:6,[R.view_sr_banner]:7,[R.view_bd_banner]:8,[R.view_genius_lp_entrance]:9});R.click_index_banner,R.click_sr_banner,R.click_bd_banner,R.click_genius_lp_entrance;function $(e){return[F,D].includes(Number(e))}const C=(e,n)=>{(0,u.trackExperiment)(U),$(n)&&(0,u.trackExperimentStage)(U,L[e])};var B=t("129c48b3"),G=t.n(B),W=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var H=function(e){return"string"===typeof e&&W.test(e)},Y=[],q=0;q<256;++q)Y.push((q+256).toString(16).substr(1));var X=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Y[e[n+0]]+Y[e[n+1]]+Y[e[n+2]]+Y[e[n+3]]+"-"+Y[e[n+4]]+Y[e[n+5]]+"-"+Y[e[n+6]]+Y[e[n+7]]+"-"+Y[e[n+8]]+Y[e[n+9]]+"-"+Y[e[n+10]]+Y[e[n+11]]+Y[e[n+12]]+Y[e[n+13]]+Y[e[n+14]]+Y[e[n+15]]).toLowerCase();if(!H(t))throw TypeError("Stringified UUID is invalid");return t};var V=function(e){if(!H(e))throw TypeError("Invalid UUID");var n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t};var K="6ba7b810-9dad-11d1-80b4-00c04fd430c8",j="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Q(e,n,t,i){switch(e){case 0:return n&t^~n&i;case 1:case 3:return n^t^i;case 2:return n&t^n&i^t&i}}function J(e,n){return e<<n|e>>>32-n}var z=function(e){var n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];s[l]=c}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<o;++u){for(var p=new Uint32Array(80),_=0;_<16;++_)p[_]=s[u][_];for(var m=16;m<80;++m)p[m]=J(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var f=t[0],b=t[1],v=t[2],g=t[3],h=t[4],y=0;y<80;++y){var k=Math.floor(y/20),S=J(f,5)+Q(k,b,v,g)+h+n[k]+p[y]>>>0;h=g,g=v,v=J(b,30)>>>0,b=f,f=S}t[0]=t[0]+f>>>0,t[1]=t[1]+b>>>0,t[2]=t[2]+v>>>0,t[3]=t[3]+g>>>0,t[4]=t[4]+h>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]},Z=function(e,n,t){function i(e,i,r,a){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var n=[],t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}(e)),"string"===typeof i&&(i=V(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(i),o.set(e,i.length),(o=t(o))[6]=15&o[6]|n,o[8]=63&o[8]|128,r){a=a||0;for(var s=0;s<16;++s)r[a+s]=o[s];return r}return X(o)}try{i.name=e}catch(r){}return i.DNS=K,i.URL=j,i}("v5",80,z),ee=Z;function ne(e){return ee(e+"","78f09b1c-730c-49ff-8e0f-23315c42a5b7")}function te(e,n){const[t,i]=(0,o.useState)(!0);return G()((()=>{try{const t=window.localStorage.getItem(e);t&&n(t)?i(!0):i(!1)}catch(t){}})),[t,i]}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ie.apply(this,arguments)}var re=e=>{const n=n=>{const[t,i]=(0,o.useState)(!0);return s().createElement(e,ie({},n,{isSheetActive:t,onClose:i}))};return n.displayName=`withSheetActive(${e.displayName||e.name||"Component"})`,n};let ae=function(e){return e.INDEX="index",e.SEARCH_RESULTS="searchresults",e.PROPERTY="hotel",e.OTHER="other",e}({});var oe=t("cedcabf9");const se={GeniusVipMinimumLovableProgram:{keyFields:["programId"]},MlpProgramBenefit:{keyFields:["benefitType"],fields:{progressInfo:{merge:!0}}},SustainInfo:{keyFields:[],merge:!0},ProgramBriefInfo:{merge:!0,fields:{lastingDuration:{merge:!0}}}},le=()=>{const e=(0,oe.useApolloClient)();(0,o.useState)((()=>{e.cache.policies.addTypePolicies(se)}))};var ce,de,ue,pe=t("17769cc1"),_e=t.n(pe);class me{static getInstantce(){if(!me.instance){const e=!1,n=(0,c.getRequestContext)().getBasePageUrl().searchParams.get("vip_mock_port")||"";e&&Number(n)&&(me.instance=new oe.ApolloClient({link:new oe.HttpLink({uri:`http://localhost:${Number(n)}/graphql`,fetch:_e()}),cache:new oe.InMemoryCache}))}return me.instance}static resetInstance(){me.instance=null}}ue=null,(de="instance")in(ce=me)?Object.defineProperty(ce,de,{value:ue,enumerable:!0,configurable:!0,writable:!0}):ce[de]=ue;var fe=t("dee2534d"),be=t("c44dcb0c"),ve="fc4a10b357",ge="fdedff8b9a",he="a4f27fb0ad",ye="fa67fbeab3",ke="e839cbe9e5",Se="facb3d5a6a",we="b25f3733f7",Ae="f6fd207c4a",Ne="b7c83e9384",Ee="cc872ab3e2",Ie="a24a6337ce";var Oe=function(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.createElement("circle",{cx:12,cy:7.11,r:7.11,transform:"rotate(-67.5 12.004 7.111)"}),o.createElement("path",{d:"M20.82 19.68a12.42 12.42 0 0 0-17.56-.09l-.07.07a.92.92 0 0 0-.26.69.9.9 0 0 0 .35.64 14.22 14.22 0 0 0 17.47 0 .88.88 0 0 0 .08-1.32z"}))};var Te=e=>{let{avatarUrl:n,displayName:t,geniusLevel:i,endDateFormatted:r,isMlpGlobalWoPayLater:a=!1,isMdot:o,isSheetActive:l,onClose:c,ctaUrl:d,ctaClick:u,dismissClick:p,onAfterOpen:_}=e;const{translate:m}=(0,be.useTranslations)(),f=()=>{p&&p(),c()};return s().createElement(fe.SheetContainer,{position:o?"fullScreen":"center",closeAriaLabel:m("gc_banner_accessibility_close"),className:ve,active:l,onCloseTrigger:f,onAfterOpen:_,fill:!o},s().createElement(fe.Stack,{className:ge,gap:0},s().createElement(fe.Stack.Item,{grow:!0},s().createElement(fe.Stack,{gap:0,alignItems:"center",justifyContent:"center"},s().createElement(fe.Stack.Item,{className:he},s().createElement("div",{className:ye},n?s().createElement(fe.Image,{src:n,fallback:null,width:"64px",className:ke}):s().createElement(fe.Icon,{svg:Oe,size:"largest",color:"disabled",className:Se})),t&&s().createElement(fe.Text,{variant:"headline_2",color:"white",align:"center"},t),s().createElement("div",{className:we},s().createElement(fe.Text,{variant:"body_1",color:"brand_genius_secondary",className:Ae},m("genius_vip_mlp_onboarding_full_screen_level",{variables:{genius_level:i}})),s().createElement(fe.Image,{src:"https://bstatic.com/data/mobile/vipbadge.svg",width:"21px",fallback:null}))),s().createElement(fe.Stack.Item,{alignSelf:"center",className:Ee},s().createElement(fe.Text,{variant:"strong_1",className:Ie},m(a?"genius_vip_mlp_onboarding_full_screen_thanks_title":"genius_vip_mlp_onboarding_full_screen_title")),s().createElement(fe.Text,{align:"center"},a?m("genius_vip_mlp_onboarding_full_screen_thanks_body",{variables:{end_date:r}}):m("genius_vip_mlp_onboarding_full_screen_body",{variables:{end_date:r,num_exception:0}}))))),s().createElement(fe.Stack.Item,null,s().createElement(fe.Button,{variant:"primary",size:"large",wide:!0,className:Ne,onClick:u,href:d},m("genius_vip_mlp_onboarding_full_screen_cta_primary")),s().createElement(fe.Button,{variant:"tertiary-inherit",size:"large",wide:!0,onClick:f},m("genius_vip_mlp_onboarding_full_screen_cta_secondary",{variables:{b_companyname:"Booking.com"}})))))},xe=t("41c6c66e");var Pe=t("239beb17");const Fe={},De={kind:"Document",definitions:(e=>{const n={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mlpDemoQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"geniusVipMlpInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipMinimumLovableProgramInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productShellInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductShellInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusVipMlp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"geniusVipMlpInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"programId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"programName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remainDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAtFormatted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentBenefits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mlpUserBenefits"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sustainInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mlpSustainInfo"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"productShell"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"productShellInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"guestAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geniusStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sizedUrls"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"square64"},arguments:[],directives:[]}]}}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"mlpUserBenefits"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MlpProgramBenefit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progressInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MlpProgressInfoInstantDiscount"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isReachCurrentUpperLimit"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MlpProgressInfoPriorityCustomerService"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isNonEnglishUserWithGeniusLevelBelow3"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"mlpSustainInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SustainInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserSustained"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSustainProgramStarted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sustainProgramInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endedAtFormatted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastingDuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inMonths"},arguments:[],directives:[]}]}}]}}]}}])),loc:{start:0,end:642,source:{body:"\n  query mlpDemoQuery(\n    $geniusVipMlpInput: GeniusVipMinimumLovableProgramInput\n    $productShellInput: ProductShellInput!\n  ) {\n    geniusVipMlp(input: $geniusVipMlpInput) {\n      programId\n      status\n      programName\n      remainDays\n      endedAtFormatted\n      currentBenefits {\n        ...mlpUserBenefits\n      }\n      sustainInfo {\n        ...mlpSustainInfo\n      }\n    }\n    productShell(input: $productShellInput) {\n      guestAccount {\n        userLabel\n        firstName\n        geniusStatus {\n          level\n        }\n        avatar {\n          sizedUrls {\n            square64\n          }\n        }\n      }\n    }\n  }\n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const Me=e=>{switch(e){case"index":return a.INDEX;case"searchresults_irene":return a.SEARCH_RESULTS;case"hotel":return a.PROPERTY_PAGE;default:return(e=>{let{benefitType:n,page:t,uiType:i,queryName:r,message:a}=e;r&&!i&&(0,xe.reportWarning)(`${n} ${t}, ${r} has warning: ${a}`),i&&!r&&(0,xe.reportWarning)(`${n} ${t}, ${i} has warning: ${a}`),(0,xe.reportWarning)(`${n} ${t}, ${i} or ${r} has warning: ${a}`)})({message:`Genius VIP MLP enrollment sheet get action name ${e}`,page:"other"}),null}};function Re(){var e;const n=(0,c.getRequestContext)(),t=null===(e=n.getUserIdentity())||void 0===e?void 0:e.userId,i=Me(n.getActionName()||""),a=i?{geniusVipMlpInput:{sourcePage:i}}:{},o=!Boolean(t)||!(0,Pe.isFeatureRunning)(Pe.feature`cQYIMdUTNOUaYLFbIJfRfQCBOFO`),{loading:s,error:l,data:d}=function(e){const n={...Fe,...e};return oe.useQuery(De,n)}({context:{"X-Booking-Timeout-Ms":8e3,"X-Envoy-Expected-Rq-Timeout-Ms":8e3},variables:{productShellInput:{product:r.ACCOMMODATIONS},...a},skip:o,errorPolicy:"all"});return l||s||o||!d?null:d}var Ue=function(e){const n=n=>{const t=me.getInstantce();return t?s().createElement(oe.ApolloProvider,{client:t},s().createElement("span",{"data-testid":"with-dev-mock"}),s().createElement(e,n)):s().createElement(e,n)};return n.displayName=`withDevMock(${e.displayName||e.name||"Component"})`,n}((function(){var e,n,t,r,a;const l=null===(e=(0,c.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,_=(0,c.getRequestContext)().getLanguage(),{isMDOT:m}=d();le();const b=Re(),v=(null===b||void 0===b||null===(n=b.geniusVipMlp)||void 0===n?void 0:n.programName)||"mlp",{closeDismissibleItem:g,dismissed:h}=function(e,n){const t=ne(e),[i,r]=te(t,(e=>e===n));return{closeDismissibleItem:(0,o.useCallback)((()=>{r(!0),window.localStorage.setItem(t,n)}),[t,r,n]),dismissed:i,encryptLocalStorageKey:t}}(`${l}_${v}`,v);if(!b||!b.geniusVipMlp||b.geniusVipMlp.status===i.Expired||!b.productShell.guestAccount||null!==(t=b.geniusVipMlp.sustainInfo)&&void 0!==t&&t.isSustainProgramStarted)return null;const{firstName:y,userLabel:k,geniusStatus:S,avatar:A}=b.productShell.guestAccount,N=y?k:"",E=(0,p.constructUrl)({host:"app",pathname:`genius_vip.${_}.html`,searchParams:new URLSearchParams({src:`${(0,c.getRequestContext)().getActionName()}_onboarding`})}).toString(),I=D===Number(null===b||void 0===b||null===(r=b.geniusVipMlp)||void 0===r?void 0:r.programId),O=re(Te);return(0,u.trackExperiment)(f),h?null:s().createElement(O,{endDateFormatted:b.geniusVipMlp.endedAtFormatted,displayName:N,avatarUrl:null===A||void 0===A||null===(a=A.sizedUrls)||void 0===a?void 0:a.square64,geniusLevel:(null===S||void 0===S?void 0:S.level)||1,isMlpGlobalWoPayLater:I,isMdot:m,ctaUrl:E,ctaClick:()=>{var e;const n=(null===b||void 0===b||null===(e=b.geniusVipMlp)||void 0===e?void 0:e.programId)||"";P(w.click_onboarding,n),C(R.click_onboarding,n),g()},dismissClick:()=>{var e;const n=(null===b||void 0===b||null===(e=b.geniusVipMlp)||void 0===e?void 0:e.programId)||"";P(w.skip_onboarding,n),C(R.dismiss_onboarding,n),g()},onAfterOpen:()=>{var e;const n=(null===b||void 0===b||null===(e=b.geniusVipMlp)||void 0===e?void 0:e.programId)||"";P(w.view_onboarding,n);const t={[ae.INDEX]:R.view_index_onboarding,[ae.SEARCH_RESULTS]:R.view_sr_onboarding,[ae.PROPERTY]:R.view_pp_onboading}[function(){const e=(0,c.getRequestContext)().getBasePageUrl();return 0===e.pathname.indexOf("/index")||"/"===e.pathname?ae.INDEX:0===e.pathname.indexOf("/searchresults")?ae.SEARCH_RESULTS:0===e.pathname.indexOf("/hotel")?ae.PROPERTY:ae.OTHER}()];t&&C(t,n)}})}))},"6ee88c54":function(e,n,t){"use strict";var i,r;t.d(n,{N:function(){return i},p:function(){return r}}),function(e){e.UNKNOWN="UNKNOWN",e.WWW="WWW",e.MDOT="MDOT",e.TDOT="TDOT",e.ANDROID="ANDROID",e.IOS="IOS",e.XML="XML",e.MG_FAMILY="MG_FAMILY",e.AFFILIATE_BASE="AFFILIATE_BASE",e.EMK_FAMILY="EMK_FAMILY",e.JOINAPP="JOINAPP",e.PULSE="PULSE",e.EXTRANET="EXTRANET",e.CHAT2BOOK="CHAT2BOOK"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WWW=1]="WWW",e[e.MDOT=2]="MDOT",e[e.TDOT=3]="TDOT",e[e.ANDROID=4]="ANDROID",e[e.IOS=5]="IOS",e[e.XML=13]="XML",e[e.MG_FAMILY=15]="MG_FAMILY",e[e.AFFILIATE_BASE=22]="AFFILIATE_BASE",e[e.EMK_FAMILY=23]="EMK_FAMILY",e[e.JOINAPP=24]="JOINAPP",e[e.PULSE=27]="PULSE",e[e.EXTRANET=31]="EXTRANET",e[e.CHAT2BOOK=87]="CHAT2BOOK"}(r||(r={}))},"17769cc1":function(e,n){var t="undefined"!==typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}();!function(e){!function(n){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!==typeof e&&(e=String(e)),e}function s(e){var n={next:function(){var n=e.shift();return{done:void 0===n,value:n}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach((function(e,n){this.append(n,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(n){this.append(n,e[n])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(n,t){e.onload=function(){n(e.result)},e.onerror=function(){t(e.error)}}))}function u(e){var n=new FileReader,t=d(n);return n.readAsArrayBuffer(e),t}function p(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:t.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:t.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():t.arrayBuffer&&t.blob&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return function(e){var n=new FileReader,t=d(n);return n.readAsText(e),t}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var n=new Uint8Array(e),t=new Array(n.length),i=0;i<n.length;i++)t[i]=String.fromCharCode(n[i]);return t.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,n){e=a(e),n=o(n);var t=this.map[e];this.map[e]=t?t+", "+n:n},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,n){this.map[a(e)]=o(n)},l.prototype.forEach=function(e,n){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(n,this.map[t],t,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(n,t){e.push(t)})),s(e)},l.prototype.values=function(){var e=[];return this.forEach((function(n){e.push(n)})),s(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(n,t){e.push([t,n])})),s(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(e,n){var t=(n=n||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,t||null==e._bodyInit||(t=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new l(n.headers)),this.method=function(e){var n=e.toUpperCase();return m.indexOf(n)>-1?n:e}(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t)}function b(e){var n=new FormData;return e.trim().split("&").forEach((function(e){if(e){var t=e.split("="),i=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(r))}})),n}function v(e){var n=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=e.split(":"),i=t.shift().trim();if(i){var r=t.join(":").trim();n.append(i,r)}})),n}function g(e,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new l(n.headers),this.url=n.url||"",this._initBody(e)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},_.call(f.prototype),_.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var h=[301,302,303,307,308];g.redirect=function(e,n){if(-1===h.indexOf(n))throw new RangeError("Invalid status code");return new g(null,{status:n,headers:{location:e}})},n.DOMException=e.DOMException;try{new n.DOMException}catch(k){n.DOMException=function(e,n){this.message=e,this.name=n;var t=Error(e);this.stack=t.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function y(e,i){return new Promise((function(r,a){var o=new f(e,i);if(o.signal&&o.signal.aborted)return a(new n.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:v(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var n="response"in s?s.response:s.responseText;r(new g(n,e))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new n.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),o.headers.forEach((function(e,n){s.setRequestHeader(n,e)})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}y.polyfill=!0,e.fetch||(e.fetch=y,e.Headers=l,e.Request=f,e.Response=g),n.Headers=l,n.Request=f,n.Response=g,n.fetch=y,Object.defineProperty(n,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;(n=r.fetch).default=r.fetch,n.fetch=r.fetch,n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response,e.exports=n}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/8d7d1278.b6c9f89c.chunk.js.map