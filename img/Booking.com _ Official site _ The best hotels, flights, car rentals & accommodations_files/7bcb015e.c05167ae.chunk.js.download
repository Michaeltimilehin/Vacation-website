"use strict";(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["7bcb015e"],{af1e2b38:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t("6ee88c54"),r=t("dc6d28ff");const i=()=>{const e=(0,r.getRequestContext)().getSiteType()??a.N.WWW;return{isWWW:e===a.N.WWW,isMDOT:e===a.N.MDOT,isTDOT:e===a.N.TDOT}}},"261e3243":function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a=t("ead71eb0"),r=t.n(a),i=t("af1e2b38"),s=t("dee2534d"),o=t("dc6d28ff"),c=t("d1e54a96"),l=t("975f4b85"),d=t("41c6c66e"),m=t("cedcabf9");const _={},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeniusGuestData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusGuestData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:116,source:{body:"\n  query GeniusGuestData {\n    geniusGuestData {\n      userInfo {\n        firstname\n        level\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var g=t("2bb3685b"),p=t("4933a3e7"),v=t("5db8920d");const b=()=>{var e,n;const t=(0,o.getRequestContext)(),a=!(null!==(e=t.getUserIdentity())&&void 0!==e&&e.isGenius),r=null===(n=t.getBasePageUrl())||void 0===n||null===(n=n.searchParams)||void 0===n?void 0:n.get(g.Hu),{error:i,loading:s,data:c}=function(e){const n={..._,...e};return m.useQuery(u,n)}({skip:a,context:{headers:{...(0,v.l)(!0)}}});return(0,p.z)("Response for genius guest data query ",{error:i,loading:s,data:c}),r&&console.log("Response for genius user name query ",JSON.stringify({error:i,loading:s,data:c})),s||c||a||(0,d.reportWarning)("No result for genius guest data query"),i&&(0,d.reportError)(i),null===c||void 0===c?void 0:c.geniusGuestData.userInfo};var f=t("8e166592"),h="bc4e2c467a",E="b8e920e088",w="d39c27f89b",N="d875fc0c4c",y="bb44aa69aa",k="de7f9979e1",x="ccbae5d425",T="a0670806ef",C="c3e28461aa",S="d42c9579d2",D="ce1adcb018",B="fdc0eaa3a7",I="faef87fb98",j="d442102055",q="c3a580d951",A="a2172b8d6f",O="db46cc1a0a",P="fc7d18e9e4",R=t("c44dcb0c");const G="wcu_bh_banner-desktop",L="wcu_bh_banner_desktop--content",M="wcu_bh_banner_desktop--button",X="wcu_bh_banner-mobile",F="wcu_bh_banner_mobile--content",U="wcu_bh_banner_mobile--button",H=r().createElement("div",{className:k},r().createElement("ul",{className:A},r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_apartments"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_villas"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_aparthotels"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_holiday_homes"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_cottages"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_homes"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_apartments"})))));var W=e=>{let{userFirstName:n}=e;return r().createElement(r().Fragment,null,r().createElement("div",{className:w}),r().createElement("div",{className:N},r().createElement(s.Text,{variant:"headline_2",className:y,attributes:{"data-testid":L}},n?r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_name",variables:{first_name:n,begin:"<0><1>",end:"</1>",property_types:"</1><2></2></0><1>"},components:["div","span",H]}):r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner",variables:{begin:"<0><1>",end:"</1>",property_types:"</1><2></2></0><1>"},components:["div","span",H]})),r().createElement(s.Button,{variant:"secondary",className:x,attributes:{"data-testid":M}},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_cta"}))),r().createElement("div",{className:T},r().createElement(s.Image,{src:t("557ecd86")})))};const z=r().createElement("div",{className:q},r().createElement("ul",{className:A},r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_apartments"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_villas"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_aparthotels"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_holiday_homes"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_cottages"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_homes"}))),r().createElement("li",{className:O},r().createElement("span",{className:P},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_rotating_apartments"})))));var Z=e=>{let{userFirstName:n}=e;return r().createElement(r().Fragment,null,r().createElement(s.Image,{src:t("557ecd86"),className:D}),r().createElement("div",{className:B},r().createElement(s.Text,{variant:"strong_1",className:I,attributes:{"data-testid":F}},n?r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_name",variables:{first_name:n,begin:"<0>",end:"</1>",property_types:" </0><2></2><1>"},components:["div","div",z]}):r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner",variables:{begin:"<0>",end:"</1>",property_types:" </0><2></2><1>"},components:["div","div",z]})),r().createElement(s.Button,{variant:"secondary",className:j,size:"medium",attributes:{"data-testid":U}},r().createElement(R.Trans,{tag:"bh_awareness_2_campaign_index_banner_cta"}))))},$=t("28dbd132"),J=t("ee82dd0d");var K=()=>{var e;const n="booking_home",{isMDOT:t}=(0,i.Z)(),d=(0,o.getRequestContext)().getLanguage(),m=(0,c.constructUrl)({pathname:`/booking-home/index.${d}.html`}).toString(),_=null===(e=b())||void 0===e?void 0:e.firstname;return(0,f.d)(),(0,a.useEffect)((()=>{((e,n)=>{(0,p.z)("Generic Banner on render",{campaignId:e});const t={campaign_id:e,design_variant:e,banner_action:[{action_index:0,action_url:n,action_text:"Discover Homes",action_type:"CTA_redirect"}]};(0,J.jv)(t)})(n,m)}),[m]),r().createElement(l.df,{triggerOnce:!0,onChange:e=>{return e&&(t=n,(0,p.z)("Generic Banner on view",{campaignId:t}),void(0,J.n)(t));var t}},r().createElement(s.Card,{className:t?C:h,fill:!0,attributes:{"data-testid":t?X:G}},r().createElement(s.Actionable,{className:t?S:E,href:m,attributes:{target:"_isblank"},onClick:()=>{return e=n,a=t,(0,p.z)("Generic Banner body click",{campaignId:e}),a?(0,$.trackGoal)("mdot_discover_home_banner_click"):(0,$.trackGoal)("www_discover_home_banner_click"),void(0,J.XM)(e,0);var e,a}},t?r().createElement(Z,{userFirstName:_}):r().createElement(W,{userFirstName:_}))))}},"3d486da1":function(e,n,t){t.d(n,{I:function(){return m},d:function(){return d}});var a=t("dc6d28ff"),r=t("c44dcb0c");const i={ar:1,bg:1,en:1,"en-gb":1,"en-us":1,"es-mx":1,he:1,ja:1,ko:1,ms:1,th:1,tl:1,zh:1,"zh-cn":1,"zh-tw":1},s={bg:1,cs:1,et:1,fi:1,fr:1,hu:1,lv:1,lt:1,no:1,pl:1,"pt-pt":1,ru:1,sk:1,sr:1,sv:1,uk:1},o=/(\d)(?=(\d{3})+(?!\d))/g;function c(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(isNaN(e))return"";const a=n in i,r=a?".":",";let c=a?",":".";n in s&&(c=" ");const l=Math.pow(10,t),d=(Math.round(e*l)/l).toFixed(t),m=d.split(".")[0],_=d.split(".")[1];return m.replace(o,`$1${c}`)+(_?r+_:"")}const l=e=>{const n=[{from:null,to:3,copy:(0,r.t)("review_adj_very_poor")},{from:3,to:4,copy:(0,r.t)("review_adj_poor")},{from:4,to:5,copy:(0,r.t)("review_adj_disappointing")},{from:5,to:5.6,copy:(0,r.t)("review_adj_average")},{from:5.6,to:6,copy:(0,r.t)("review_adj_above_average")},{from:6,to:7,copy:(0,r.t)("review_adj_pleasant")},{from:7,to:8,copy:(0,r.t)("review_adj_good")},{from:8,to:8.6,copy:(0,r.t)("review_adj_very_good")},{from:8.6,to:9,copy:(0,r.t)("review_adj_fabulous")},{from:9,to:9.5,copy:(0,r.t)("review_adj_superb")},{from:9.5,to:null,copy:(0,r.t)("review_adj_exceptional")}];for(const t of n)if(!(t.from&&t.from>e)&&!(t.to&&t.to<=e))return{ratingAdjective:t.copy};throw new Error("score range is missed")},d=()=>{const e=(0,a.getRequestContext)().getBPlatformEnvironment();return e&&"dev"!==e&&"dqs"!==e?"prod":"dqs"},m=(e,n,t)=>{if(void 0!==n&&void 0!==t)return{score:n.toFixed(1),rating:e.trans(l(n).ratingAdjective),reviewCount:e.trans((0,r.t)("num_reviews_sr_page",{variables:{num_reviews:c(t,e.language),num_exception:t||""}}))}}},"2bb3685b":function(e,n,t){t.d(n,{Hu:function(){return r},gh:function(){return i},nh:function(){return a}});const a="b_merch_test_campaign_id",r="b_wcu_debug_context",i=["b-webcore-transactional-content-service","b-merch-platform-campaign-serving-api"]},"4933a3e7":function(e,n,t){t.d(n,{$:function(){return s},z:function(){return r}});var a=t("dc6d28ff");const r=function(){const e=(0,a.getRequestContext)(),n=e.getBPlatformEnvironment(),t=e.getBasePageUrl(),r=e.isInternalUser()&&"1"===t.searchParams.get("debug");if((!n||"dev"===n||"dqs"===n)&&r){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];console.log(s)}};let i;function s(e,n,t){const r=(0,a.getRequestContext)(),s=r.getBasePageUrl();r.isInternalUser()&&"1"===s.searchParams.get("debug_merch")&&null!==e&&void 0!==e&&e.merchComponents&&e!==i&&(console.groupCollapsed("Merch Platform debug info"),console.log("Merch Platform request variables:",n),console.log("Merch Platform response data:",e),console.log("Metadata:",t),console.groupEnd(),i=e)}},"5db8920d":function(e,n,t){t.d(n,{l:function(){return r}});var a=t("3d486da1");const r=function(){const e="dqs"===(0,a.d)()?3e4:1500;return{"X-Booking-Timeout-Ms":e,"X-Envoy-Expected-Rq-Timeout-Ms":e,"X-Booking-Timeout-Budget-Ms":e}}},"8e166592":function(e,n,t){t.d(n,{d:function(){return i}});var a=t("8ebac256"),r=t("dc6d28ff");const i=()=>{var e;if("undefined"===typeof window)return;const n=(0,r.getRequestContext)(),t=n.getBPlatformEnvironment(),i=n.getSiteType(),s=String(null===(e=n.getAffiliate())||void 0===e?void 0:e.id),o={lang:n.getLanguage(),aid:isNaN(Number(s))?void 0:s,isDev:!t||"dev"===t||"dqs"===t,pageviewId:n.getPageviewId(),platform:null===i||void 0===i?void 0:i.toLowerCase()};a.Z.init(o)}},ee82dd0d:function(e,n,t){t.d(n,{XM:function(){return s},jv:function(){return r},n:function(){return i}});var a=t("8ebac256");const r=e=>{a.Z.sendEvent({action_name:"webcoreux.generic_banner_served",action_version:"1.0.0",content:e})},i=e=>{a.Z.sendEvent({action_name:"webcoreux.generic_banner_viewed",action_version:"1.0.0",content:{campaign_id:e}})},s=(e,n)=>{a.Z.sendEvent({action_name:"webcoreux.generic_banner_action_clicked",action_version:"1.0.0",content:{campaign_id:e,action_index:n}})}},"8ebac256":function(e,n){function t(e,n,t,a){return new(t||(t=Promise))((function(r,i){function s(e){try{c(a.next(e))}catch(n){i(n)}}function o(e){try{c(a.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,o)}c((a=a.apply(e,n||[])).next())}))}Object.create;Object.create;class a{constructor(e){this.config=e,this.headers=this.config.API.HEADERS}get(e,n){return new Promise(((a,r)=>t(this,void 0,void 0,(function*(){try{const t=yield fetch(e,{method:"GET",headers:(null===n||void 0===n?void 0:n.withHeaders)?this.headers:void 0,credentials:!1===(null===n||void 0===n?void 0:n.withCredentials)?"omit":"include"}),r=yield t.text();a(r?JSON.parse(r):null)}catch(t){return r(t)}}))))}post(e,n,a){const r=this.getEnrichedData(n);return new Promise(((n,i)=>t(this,void 0,void 0,(function*(){try{const t=yield fetch(e,{method:"POST",headers:(null===a||void 0===a?void 0:a.withHeaders)?this.headers:void 0,credentials:!1===(null===a||void 0===a?void 0:a.withCredentials)?"omit":"include",body:JSON.stringify(r)}),i=yield t.text();n(i?JSON.parse(i):null)}catch(t){return i(t)}}))))}getEnrichedData(e){const n={page:{page_referrer:document.referrer,page_url:window.location.href,page_title:document.title},web:{browser_language:window.navigator.language},local:{currency:this.config.currency,language:this.config.language}};return Object.assign(Object.assign({},e),{context:n,tracker:{tracker_name:"C360ReactTracker",tracker_type:"Client",tracker_version:"0.1.0"}})}}var r=new class{init(e){this.client=new a(e)}get(e){return t(this,void 0,void 0,(function*(){return this.client.get(e)}))}post(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(this,void 0,void 0,(function*(){return this.client.post(e,n,a)}))}};const i=e=>{var n=void 0;"mdot"==e.platform&&(n=2),"ddot"!=e.platform&&"www"!=e.platform||(n=1);return{"Content-Type":"application/json","X-Booking-Platform":e.platform,"X-Booking-SiteType-Id":n,"X-Booking-Pageview-Id":e.pageviewId,"X-Booking-Session-Id":e.sessionId,"X-Booking-ET-Seed":e.etSeed,"X-Booking-AID":e.aid,"X-Booking-Label":e.label,"X-Booking-CSRF":e.csrfToken,"X-Booking-Language-Code":e.lang}};var s=new class{init(e){this.c360Config=(e=>{const n=e.hostname||(e.isDev?"app.dqs.booking.com":"www.booking.com");return{IS_DEV:Boolean(e.isDev),API:{HEADERS:i(e)},TRACK_BASE_URL:`https://${n}/c360/v1/track`,language:e.lang,currency:e.currency}})(e),this.httpClient=r,this.c360url=this.c360Config.TRACK_BASE_URL,this.props=e,r.init(this.c360Config)}sendEvent(e){return t(this,void 0,void 0,(function*(){this.httpClient.post(this.c360url,e,{withHeaders:!0}).catch((e=>{this.props.onErrorCallback&&this.props.onErrorCallback(new Error(e))}))}))}};n.Z=s},"557ecd86":function(e,n,t){e.exports=t.p+"static/media/bh_aw_cpg_main_image.b4347622.png"}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/7bcb015e.c05167ae.chunk.js.map